# xml-sitemap

> Utilities for quickly making custom XML sitemaps

## Install

Add it to a project with `npm`:
```sh
$ npm install xml-sitemap --save
```

## Basic Usage

Build a new sitemap:

```js
var XmlSitemap = require('xml-sitemap');
var sitemap = new XmlSitemap();

sitemap.addUrl('http://domain.com/')
.addUrl('http://domain.com/magic', {lastmod: '2012-12-21', changefreq: 'never'})
.addUrl('http://domain.com/other', {lastmod: 'now', priority: 0.2});

console.log(sitemap.urls);
// ['http://domain.com/', 'http://domain.com/magic', 'http://domain.com/other']
console.log(sitemap.xml);
// <?xml version="1.0" encoding="UTF-8"?>
// <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
//   <url>
//     <loc>http://domain.com/</loc>
//   </url>
//   <url>
//     <loc>http://domain.com/magic</loc>
//     <lastmod>2012-12-21</lastmod>
//     <changefreq>never</changefreq>
//   </url>
//   <url>
//     <loc>http://domain.com/other</loc>
//     <lastmod>{today's date}</lastmod>
//     <priority>0.2</priority>
//   </url>
// </urlset

require('fs').writeFileSync('sitemap.xml', sitemap.xml);
```

Or edit an existing one:

```js
var xmlString = require('fs').readFileSync('sitemap.xml');
var sitemap = new XmlSitemap(xmlString);

sitemap.removeUrl('http://domain.com/other')
  .updateLastmod('http://domain.com/', new Date())
  .updateLastmod('http://domain.com/magic')
  .setOptionValue('http://domain.com/', 'priority', 0.9);

sitemap.getOptionValue('http://domain.com/', 'lastmod');  // {today's date}
sitemap.getOptionValue('http://domain.com/magic', 'lastmod');  // {today's date}

sitemap.hasUrl('http://domain.com/magic'); // true
sitemap.hasUrl('http://domain.com/other'); // false

sitemap.getUrlNode('http://domain.com/');
// { loc: "http://domain.com/",
//   lastmod: "{today's date}",
//   priority: "0.9" }

console.log(sitemap.xml);
// <?xml version="1.0" encoding="UTF-8"?>
// <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
//   <url>
//     <loc>http://domain.com/</loc>
//     <lastmod>{today's date}</lastmod>
//     <priority>0.9</priority>
//   </url>
//   <url>
//     <loc>http://domain.com/magic</loc>
//     <lastmod>{today's date}</lastmod>
//     <changefreq>never</changefreq>
//   </url>
// </urlset>
```

## API
{{#class name="XmlSitemap"}}
{{>body~}}
{{>member-index~}}
{{>separator~}}
{{>members~}}
{{/class}}

## Licence
MIT &copy; 2016 [Robert Pirtle](https://pirtle.xyz)
